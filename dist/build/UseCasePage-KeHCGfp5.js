import{j as e,a as v,aB as y,aw as M,u as L,r as c,aA as U,aD as C,aE as S,aF as k,aG as B,l,aH as P,am as d,h as R,a1 as o,aI as T,aJ as _,aK as O,Y as F,aL as w}from"./strapi-Bz8I0DhC.js";import{P as A}from"./PrivateRoute-M4UYM-9I.js";const I=[{intlLabel:{id:"Usecase.front-end",defaultMessage:"Front-end developer"},value:"front_end_developer"},{intlLabel:{id:"Usecase.back-end",defaultMessage:"Back-end developer"},value:"back_end_developer"},{intlLabel:{id:"Usecase.full-stack",defaultMessage:"Full-stack developer"},value:"full_stack_developer"},{intlLabel:{id:"global.content-manager",defaultMessage:"Content Manager"},value:"content_manager"},{intlLabel:{id:"Usecase.content-creator",defaultMessage:"Content Creator"},value:"content_creator"},{intlLabel:{id:"Usecase.other",defaultMessage:"Other"},value:"other"}],N=()=>{const{toggleNotification:u}=v(),h=y(),g=M(),{formatMessage:a}=L(),[n,p]=c.useState(null),[i,f]=c.useState(""),{firstname:x,email:m}=U("UseCasePage",t=>t.user)??{},{hasAdmin:j}=C.parse(h.search,{ignoreQueryPrefix:!0}),b=n==="other",r=async(t,s)=>{t.preventDefault();try{await fetch("https://analytics.strapi.io/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:m,username:x,firstAdmin:!j,persona:{role:s?void 0:n,otherRole:s?void 0:i}})}),u({type:"success",message:a({id:"Usecase.notification.success.project-created",defaultMessage:"Project has been successfully created"})}),g("/")}catch{}};return e.jsx(S,{children:e.jsxs(k,{labelledBy:"usecase-title",children:[e.jsx(B,{children:e.jsxs("form",{onSubmit:t=>r(t,!1),children:[e.jsxs(l,{direction:"column",paddingBottom:7,children:[e.jsx(P,{}),e.jsx(d,{paddingTop:6,paddingBottom:1,width:"25rem",children:e.jsx(R,{textAlign:"center",variant:"alpha",tag:"h1",id:"usecase-title",children:a({id:"Usecase.title",defaultMessage:"Tell us a bit more about yourself"})})})]}),e.jsxs(l,{direction:"column",alignItems:"stretch",gap:6,children:[e.jsxs(o.Root,{name:"usecase",children:[e.jsx(o.Label,{children:a({id:"Usecase.input.work-type",defaultMessage:"What type of work do you do?"})}),e.jsx(T,{onChange:t=>p(t),value:n,children:I.map(({intlLabel:t,value:s})=>e.jsx(_,{value:s,children:a(t)},s))})]}),b&&e.jsxs(o.Root,{name:"other",children:[e.jsx(o.Label,{children:a({id:"Usecase.other",defaultMessage:"Other"})}),e.jsx(O,{value:i,onChange:t=>f(t.target.value)})]}),e.jsx(F,{type:"submit",size:"L",fullWidth:!0,disabled:!n,children:a({id:"global.finish",defaultMessage:"Finish"})})]})]})}),e.jsx(l,{justifyContent:"center",children:e.jsx(d,{paddingTop:4,children:e.jsx(w,{onClick:t=>r(t,!0),children:a({id:"Usecase.button.skip",defaultMessage:"Skip this question"})})})})]})})},W=()=>e.jsx(A,{children:e.jsx(N,{})});export{W as PrivateUseCasePage,N as UseCasePage,I as options};
